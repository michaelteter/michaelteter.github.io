<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vector Tower Defense</title>
    <link rel="stylesheet" href="vector_assets/css/styles.css?v=28">
</head>
<body>

    <div id="splash-screen">
        <div id="splash-content">
            <h1 id="splash-title">Vector Defense</h1>
            <div id="splash-subtitle">Demo by <a href="https://michaelteter.com">Michael Teter</a></div>
            <button id="btn-start-game">Play Game</button>
            <div id="splash-note">This is a work in progress &mdash; expect bugs and missing features.  Also, enjoy the music tracks!</div>
        </div>
    </div>

    <div id="game-container">
        <div class="main-layout">
            <div class="game-view">


                <canvas id="gameCanvas" width="800" height="400"></canvas>
            </div>

            <div id="ui-panel">
                <!-- Top Audio Control Row -->
                <div id="audio-panel">
                    <button id="btn-music" class="music-btn" onclick="toggleMusic()" title="Play/Pause Music"><span class="audio-icon">&#9658;</span> Music</button>
                    <button id="btn-next-song" class="music-btn" onclick="playNextSong()" title="Next Track">&#10095;&#10095;</button>

                    <div class="vol-group">
                        <div class="vol-label">Music</div>
                        <div class="vol-btns">
                            <button id="btn-music-vol-down" class="vol-btn" onclick="adjustMusic(-1)">&#9660;</button>
                            <button id="btn-music-vol-up" class="vol-btn" onclick="adjustMusic(1)">&#9650;</button>
                        </div>
                    </div>

                    <div class="vol-group">
                        <div class="vol-label">SFX</div>
                        <div class="vol-btns">
                            <button id="btn-sfx-down" class="vol-btn" onclick="adjustSFX(-1)">&#9660;</button>
                            <button id="btn-sfx-up" class="vol-btn" onclick="adjustSFX(1)">&#9650;</button>
                        </div>
                    </div>
                </div>

                <!-- Scrollable/Main Content Area -->
                <div id="ui-content-wrapper">

                    <div id="game-over-panel">
                        <div class="game-over-content">
                            <h2>GAME<br>OVER</h2>
                            <p>Final Score: <span id="final-score">0</span></p>
                            <button id="btn-new-game">New Game</button>
                        </div>
                    </div>

                    <div class="stats-bar">
                        <span>Lives: <span id="lives-display" class="stat-value">20</span></span>
                        <span>Score: <span id="score-display" class="stat-value">0</span></span>
                        <span>Money: <span id="money-display" class="stat-value">$1000</span></span>
                    </div>

                    <div class="map-section" style="width: 100%;">
                        <div class="map-control-row" style="justify-content: space-between;">
                            <button id="map-prev" class="map-btn">&lt;</button>
                            <span id="map-current" style="font-size: 16px;">Map 1</span>
                            <button id="map-next" class="map-btn">&gt;</button>
                        </div>
                    </div>

                    <div class="controls-row" style="display: flex; gap: 10px;">
                        <button id="btn-play-pause" class="play-pause-btn" style="flex: 1;">&#9658; Game</button>
                        <button id="btn-restart" class="play-pause-btn" style="flex: 1; color: #ccc; border-color: #555;">Restart</button>
                    </div>

                    <div class="tower-select">
                        <!-- <h3>Towers</h3> Removed per request -->
                        <button class="tower-btn btn-laser" onclick="selectTower('laser')" style="display:flex; flex-direction:column; align-items:center; justify-content:center; padding:5px;">
                            <canvas id="btn-canvas-laser" width="40" height="40"></canvas>
                            <div style="font-size:10px; margin-top:2px;">$10</div>
                        </button>
                        <button class="tower-btn btn-missile" onclick="selectTower('missile')" style="display:flex; flex-direction:column; align-items:center; justify-content:center; padding:5px;">
                            <canvas id="btn-canvas-missile" width="40" height="40"></canvas>
                            <div style="font-size:10px; margin-top:2px;">$20</div>
                        </button>
                        <button class="tower-btn btn-emp" onclick="selectTower('emp')" style="display:flex; flex-direction:column; align-items:center; justify-content:center; padding:5px;">
                            <canvas id="btn-canvas-emp" width="40" height="40"></canvas>
                            <div style="font-size:10px; margin-top:2px;">$30</div>
                        </button>
                        <button class="tower-btn btn-artillery" onclick="selectTower('artillery')" style="display:flex; flex-direction:column; align-items:center; justify-content:center; padding:5px;">
                            <canvas id="btn-canvas-artillery" width="40" height="40"></canvas>
                            <div style="font-size:10px; margin-top:2px;">$40</div>
                        </button>
                        <button class="tower-btn btn-railgun" onclick="selectTower('railgun')" style="display:flex; flex-direction:column; align-items:center; justify-content:center; padding:5px;">
                            <canvas id="btn-canvas-railgun" width="40" height="40"></canvas>
                            <div style="font-size:10px; margin-top:2px;">$100</div>
                        </button>
                    </div>

                    <div class="tower-context-panel" style="display: none; flex-direction: column; gap: 10px; background: #1a1a1a; padding: 10px; border: 1px solid #333; border-radius: 4px; margin-top: 10px;">
                        <h3 id="ctx-tower-name" style="margin: 0; color: #fff; font-size: 14px; text-transform: uppercase; border-bottom: 1px solid #444; padding-bottom: 5px;">Tower</h3>

                        <div class="ctx-body" style="display: flex; flex-direction: row; gap: 10px; align-items: start;">
                            <!-- Column 1: Stats -->
                            <div id="ctx-tower-info" style="flex: 1; color: #ccc; font-size: 12px; line-height: 1.4;"></div>

                            <!-- Column 2: Controls (D-Pad) -->
                            <div id="ctx-tower-controls" style="display:none; justify-content: center; align-items: center;">
                                <div class="dpad-grid" style="display: grid; grid-template-columns: repeat(3, 24px); grid-template-rows: repeat(3, 24px); gap: 2px;">
                                    <!-- Row 1 -->
                                    <div></div>
                                    <button class="dir-btn" data-dir="3" title="North" style="width:100%; height:100%; padding:0;">&#9650;</button>
                                    <div></div>
                                    <!-- Row 2 -->
                                    <button class="dir-btn" data-dir="6" title="West" style="width:100%; height:100%; padding:0;">&#9664;</button>
                                    <div></div>
                                    <button class="dir-btn" data-dir="4" title="East" style="width:100%; height:100%; padding:0;">&#9654;</button>
                                    <!-- Row 3 -->
                                    <div></div>
                                    <button class="dir-btn" data-dir="5" title="South" style="width:100%; height:100%; padding:0;">&#9660;</button>
                                    <div></div>
                                </div>
                            </div>
                        </div>

                        <div id="ctx-tower-actions" style="display: flex; gap: 5px; margin-top: 5px;">
                            <button id="btn-sell" class="tower-btn" style="flex: 1; border-color: #555; background: #222; color: #aaa;">Sell</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

<script src="vector_assets/js/consts.js?v=28"></script>
<script src="vector_assets/js/maps.js?v=28"></script>
<script src="vector_assets/js/game.js?v=28"></script>
</body>
</html>
